{"version":3,"sources":["../../../../build/webpack/plugins/flight-manifest-plugin.ts"],"names":["PLUGIN_NAME","edgeFlightManifest","nodeFlightManifest","injectedClientEntries","Map","FlightManifestPlugin","options","dev","pageExtensions","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapAsync","callback","createClientEndpoints","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","assets","createAsset","context","promises","entry","entries","entryDependency","request","layer","visited","Set","clientComponentImports","filterClientComponents","dependency","module","moduleGraph","getResolvedModule","has","userRequest","add","clientComponentRegex","test","push","getOutgoingConnections","forEach","connection","entryModule","routeInfo","buildInfo","route","page","denormalizePagePath","replace","absolutePagePath","resource","pageStaticInfo","getPageStaticInfo","clientLoader","stringify","modules","runtime","ssr","bundlePath","normalizePagePath","pageKey","dispose","lastActiveTime","Date","now","invalidator","getInvalidator","invalidate","isServerComponent","clientComponentEntryDep","EntryPlugin","createDependency","NEXT_CLIENT_SSR_ENTRY_SUFFIX","Promise","res","rej","addEntry","library","type","EDGE_RUNTIME_WEBPACK","asyncChunks","err","all","then","catch","manifest","chunkGroups","chunkGroup","recordModule","id","_chunk","mod","moduleExports","exportsInfo","getExportsInfo","moduleExportedKeys","concat","exports","map","exportInfo","provided","filter","Boolean","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","modId","getModuleId","split","concatenatedMod","mergedManifest","file","MIDDLEWARE_FLIGHT_MANIFEST","json","JSON","sources","RawSource"],"mappings":"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"}